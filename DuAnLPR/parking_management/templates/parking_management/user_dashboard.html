{% extends "parking_management/base_user.html" %}
{% load static %}

{% block title %}Trang Chủ - Quản Lý Bãi Xe{% endblock %}

{% block extra_head %}
<style>
    .dashboard-box {
        background-color: #fff;
        border-radius: 6px;
        padding: 1.5rem;
        text-align: center;
        box-shadow: 0 4px 6px rgba(10, 10, 10, 0.1);
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    }
    .dashboard-box:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 12px rgba(10, 10, 10, 0.15);
    }
    .dashboard-box .subtitle {
        color: #363636;
    }
    .dashboard-box p.description {
        flex-grow: 1;
        margin-bottom: 1rem;
    }
    .main-title {
        margin-bottom: 2rem;
        color: #4a4a4a;
    }
    .stat-number {
        font-size: 3rem;
        font-weight: bold;
        color: #3273dc; /* Bulma info color */
        line-height: 1.1;
    }
    .site-content{
    padding:0
    }
</style>
{% endblock %}

{% block content %}
<section class="section">
    <div class="container">

        <h1 class="title is-2 has-text-centered main-title">Trang Chủ Quản Lý</h1>

        <div class="columns is-multiline is-centered">
            <div class="column is-12-tablet is-6-desktop is-4-widescreen">
                <div class="dashboard-box">
                    <div>
                        <h2 class="subtitle is-4">Ghi Nhận Xe Vào</h2>
                        <p class="description">Check-in xe mới, nhận dạng biển số và lưu trữ hình ảnh.</p>
                    </div>
                    <a href="{% url 'parking_management:kiem_tra_bien_so' %}" class="button is-primary is-fullwidth is-medium">Thực hiện</a>
                </div>
            </div>
            <div class="column is-12-tablet is-6-desktop is-4-widescreen">
                <div class="dashboard-box">
                    <div>
                        <h2 class="subtitle is-4">Xử Lý Xe Ra</h2>
                        <p class="description">Check-out, tính phí theo lượt hoặc vé tháng cho xe rời bãi.</p>
                    </div>
                    <a href="{% url 'parking_management:xe_ra_khoi_bai' %}" class="button is-success is-fullwidth is-medium">Thực hiện</a>
                </div>
            </div>
            <div class="column is-12-tablet is-6-desktop is-4-widescreen">
                <div class="dashboard-box">
                    <div>
                        <h2 class="subtitle is-4">Lịch Sử Ra/Vào</h2>
                        <p class="description">Xem và tìm kiếm toàn bộ lịch sử các lượt gửi xe trong hệ thống.</p>
                    </div>
                    <a href="{% url 'parking_management:parkinghistory_list' %}" class="button is-link is-fullwidth is-medium">Xem chi tiết</a>
                </div>
            </div>

            <div class="column is-12-tablet is-6-desktop is-4-widescreen">
                <div class="dashboard-box">
                    <div>
                        <h2 class="subtitle is-4">Doanh Thu Theo Ngày</h2>
                        <p class="description">Thống kê và xem chi tiết doanh thu vé lượt theo ngày cụ thể.</p>
                    </div>
                    <a href="{% url 'parking_management:thong_ke_doanh_thu_ngay' %}" class="button is-warning is-light is-fullwidth is-medium">Xem báo cáo</a>
                </div>
            </div>
            <div class="column is-12-tablet is-6-desktop is-4-widescreen">
                <div class="dashboard-box">
                    <div>
                        <h2 class="subtitle is-4">Doanh Thu Theo Tháng</h2>
                        <p class="description">Tổng hợp doanh thu vé lượt theo từng tháng trong năm.</p>
                    </div>
                    <a href="{% url 'parking_management:thong_ke_doanh_thu_thang' %}" class="button is-warning is-light is-fullwidth is-medium">Xem báo cáo</a>
                </div>
            </div>

            <div class="column is-12-tablet is-6-desktop is-4-widescreen">
                <div class="dashboard-box">
                    <div>
                        <h2 class="subtitle is-4">Hiện có trong bãi</h2>
                        <p class="stat-number">{{ so_xe_trong_bai|default_if_none:"0" }}</p>
                    </div>
                    <p class="description">Số lượng xe đang được gửi tại bãi theo thời gian thực.</p>
                </div>
            </div>

        </div>
    </div>
</section>
{% endblock %}